注意事项和建议
=================================

图像质量
-----------------------------
确保校准对象的相机图像曝光良好且清晰是非常重要的。为确保校准对象在焦距深度内，建议使用较高的光圈值（f-number值）并配以较长的曝光时间进行补偿。此外，所有图像应使用相同的光圈设置，以避免由于不同光圈大小而引起的不必要的波动。重要的是不要选择类似的视角用于手眼校准图像，而是要激发校准对象和机器人的所有六个自由度，以确保获得足够的多样性和覆盖。这有助于获得高质量的手眼校准结果

DaoAI API
---------------------------
DaoAI的点云数据以毫米为单位提供。DaoAI API输出的手眼校准结果中的平移部分也是以毫米为单位的。因此，用于手眼校准的输入机器人姿势的平移部分也必须以毫米为单位表示，以确保一致性和正确的校准结果。在进行手眼校准时，请确保所有涉及的单位都是一致的，通常是毫米，以避免误差和单位不匹配的问题。

用于检测的基准标记
---------------------------
如果校准对象是DaoAI的校准板，请确保基准标记（fiducial marker）或ArUco标记在所有姿势下都是可见的。否则，当尝试检测棋盘格时，算法可能会失败。校准板上的基准标记通常用于帮助算法确定校准板的位置和方向，因此它们的可见性对于成功进行手眼校准非常重要。确保在所有姿势下都可以清晰地看到校准板和基准标记，以获得准确的校准结果。

Eye-to-hand
-------------------------
在eye-to-hand校准过程中，校准对象安装在机器人末端执行器上，并随机器人一起移动。它可以直接固定在法兰上，也可以由夹爪夹住。安装的确切位置并不重要，因为不需要知道校准对象与末端执行器之间的相对姿势。重要的是，在运动过程中，校准对象不会相对于法兰或夹持器移动；它必须固定或紧紧夹住。建议使用坚固的材料制作安装支架以及校准板本身。在图像采集期间，校准对象必须保持静止。一个好的例程是在机器人移动校准对象后等待几秒钟。这可以让整个结构在运动后稳定下来，以避免震动和校准对象的位移。机器人运动应平稳，并具有受控的加速度，以避免校准对象的晃动和位移。

Eye-in-hand
--------------------------
在Eye-in-hand校准过程中，校准对象是静止的，放置在机器人的工作空间中，末端安装的相机可以从不同的视角看到它。校准对象的确切位置并不重要，因为不需要知道它相对于机器人基座的姿势。但是，在校准过程中，校准对象不能移动，因此应该被牢固固定。校准对象的位置可以自由选择，只要相机可以从不同角度看到它即可。这种设置有助于获取多样性的图像，以支持准确的手眼校准。

环境条件
-------------------------
温度变化会对性能产生一定影响，因此建议在手眼校准过程中确保温度相对稳定。可以通过预热程序来实现这一点。最好将温度保持在系统正常运行时的工作条件下。为了进一步减小温度相关性能因素的影响，建议启用热稳定功能。这些步骤有助于确保在手眼校准期间相机和机器人系统的性能保持稳定，从而获得准确的校准结果。

选择正确的方法
--------------------------
对于手眼校准方法，有一些会计算摄像机的内参数（intrinsic parameters），外参数（extrinsic parameters）以及相机与机器人坐标系之间的相对姿势。然而，DaoAI不推荐这些方法，因为它们将DaoAI相机视为未校准的2D相机，而不是经过充分校准的3D相机。

每个DaoAI相机单元都经过了广泛的校准过程，包括确定其2D彩色相机的内参数。我们的校准使用了一个复杂的相机模型，具有比一些众所周知的针孔相机模型（例如OpenCV相机模型）更多的内参数。由于DaoAI相机模型是专有的，我们的SDK中没有提供内部相机内参数。然而，DaoAI SDK提供了OpenCV和Halcon模型的近似值（请参阅相机内参数），这些近似值基于我们的相机模型。由于在近似过程中信息可能会丢失，因此使用使用OpenCV或Halcon内参数的手眼校准方法也不是最佳方法。

由于DaoAI相机提供3D数据，因此可以从点云计算摄像机的外参数。DaoAI Hand-Eye校准方法利用了这一优势，这也是建议使用的方法，并且是与我们的相机最兼容的方法。还有其他非DaoAI方法，利用了从点云计算摄像机外参数的可能性。这些方法纯粹依赖点云数据，例如基于CAD匹配的手眼校准方法。

准确度和重新标定
-----------------------
视觉引导机器人系统的拾取精度取决于相机、手眼校准、机器视觉软件和机器人定位的综合精度。机器人通常具有高度的重复性，但精度可能不高。温度、关节摩擦、负载和制造公差是导致机器人偏离预编程定位的一些因素。然而，机器人姿势的精度可以通过对机器人本身进行校准来提高，这对于具有多个影响拾取精度的因素的复杂系统非常重要。如果机器人失去校准，拾取精度将会降低。重复校准（机器人和/或手眼校准）可以弥补性能下降的情况。此外，如果从固定结构或机器人上卸下相机并重新安装，还需要重复手眼校准。

阅读更多关于 :ref:`手眼标定的残差`. 